<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quotes</title>
  <link rel="stylesheet" href="quotes.css">

  <!-- Preload animated GIF for instant hover -->
  <link rel="preload" as="image" href="assets/cat.gif">
</head>

<body>

<!-- DASHBOARD GIF BUTTON -->
<a href="dashboard.html" class="home-gif" aria-label="Go to dashboard">
  <img src="assets/cat.png" data-anim="assets/cat.gif" alt="">
</a>

<h1 class="title">üí¨ QUOTE VAULT</h1>

<!-- EXPORT + SHARE ACTIONS -->
<div class="export-actions">
  <button id="exportJsonBtn">Export JSON</button>
  <button id="exportPdfBtn">Export PDF</button>
  <button id="sharePageBtn">Share</button>
</div>

<!-- QUOTES STAT BAR -->
<div class="stats">
  Total: <span id="totalQuotes">0</span>
</div>

<div class="controls">
  <input id="search" placeholder="Search quotes...">
  <button id="recentBtn">‚è± Recently Added</button>
</div>

<button id="toggleForm">‚ûï Add Quote</button>

<div id="quoteForm" class="hidden">
  <textarea id="quoteText" placeholder="Quote"></textarea>
  <input id="author" placeholder="Author">
  <button onclick="addQuote()">Save</button>
</div>

<div id="quoteList"></div>

<!-- LOAD MORE -->
<button id="loadMoreQuotes" class="hidden">
  Load More
</button>

<!-- DELETE CONFIRM -->
<div id="confirmBox" class="confirm hidden">
  <div class="confirm-box">
    <p>Delete this quote?</p>
    <div class="confirm-actions">
      <button onclick="confirmDelete()">Yes</button>
      <button onclick="closeConfirm()">Cancel</button>
    </div>
  </div>
</div>

<!-- EDIT POPUP -->
<div id="editOverlay" class="edit-overlay hidden">
  <div class="edit-box">
    <h3>Edit Quote</h3>
    <textarea id="editQuote"></textarea>
    <input id="editAuthor">
    <div class="edit-actions">
      <button onclick="saveEdit()">üíæ Save</button>
      <button class="cancel" onclick="closeEdit()">‚úñ Cancel</button>
    </div>
  </div>
</div>

<script type="module" src="quotes.js"></script>

<!-- üî• REQUIRED: HOVER-ONLY GIF LOGIC -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.home-gif img').forEach(img => {
      const staticSrc = img.src;
      const animatedSrc = img.dataset.anim;

      img.addEventListener('mouseenter', () => {
        img.src = animatedSrc + '?t=' + Date.now();
      });

      img.addEventListener('mouseleave', () => {
        img.src = staticSrc;
      });
    });
  });
</script>

</body>
</html>
